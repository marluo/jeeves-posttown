(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{1630:function(e,t,a){},1662:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),s=a(316),o=a.n(s),c=a(64),i=a(17),l=a(18),u=a(20),m=a(19),p=a(21),d=a(1664),f=a(1663),b=a(11),h=a(47),v=a.n(h),g=a(105),E=a(31),w=Object(E.a)(),O=a(78),y=(a(234),a(30)),j=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(u.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).onLogin=function(e){a.props.signIn(e)},a}return Object(p.a)(t,e),Object(l.a)(t,[{key:"renderLogin",value:function(e){var t=e.input,a=e.label,n=e.type;return r.a.createElement("div",null,r.a.createElement("label",null,a),r.a.createElement("input",Object.assign({},t,{type:n,className:"pa2 input-reset ba bg-white hover-bg-white w-100"})))}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("div",{className:"pa7 black-80 bg-light-gray vh-100"},r.a.createElement("form",{onSubmit:this.props.handleSubmit(this.onLogin),className:"measure center"},r.a.createElement("h2",{className:"f2 black-50 ttu center"},"LOGIN"),r.a.createElement(d.a,{name:"username",component:this.renderLogin,label:"Enter Username",type:"text"}),r.a.createElement(d.a,{name:"password",component:this.renderLogin,label:"Enter Password",type:"password"}),r.a.createElement("button",{className:"b ph3 pv2 input-reset ba b--black bg-transparent grow pointer f6 dib mt2"},"Submit!")),r.a.createElement("div",{class:"lh-copy mt3 measure center"},r.a.createElement(y.a,{to:"/info/register",class:"f5 black-50 ttu db"},"Sign up"),r.a.createElement("div",{className:"tc"},this.props.message))))}}]),t}(r.a.Component),N=Object(f.a)({form:"login"})(j),C=Object(b.b)(function(e){return{auth:e.firebase.auth,message:e.auth.message}},{register:function(e){return function(){var t=Object(g.a)(v.a.mark(function t(a){return v.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",O.auth().createUserWithEmailAndPassword(e.username,e.password));case 1:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}()},signIn:function(e){return function(){var t=Object(g.a)(v.a.mark(function t(a){return v.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:O.auth().signInWithEmailAndPassword(e.username,e.password).then(function(){var e=O.auth().currentUser;a({type:"SIGN_IN",payload:e})}).catch(function(e){a({type:"SIGN_ERROR",payload:e.message})});case 1:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}()}})(N),k=a(12),I=a(8),R=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,s=new Array(n),o=0;o<n;o++)s[o]=arguments[o];return(a=Object(u.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(s)))).state={number:0,size:0},a.showEditandDelete=function(e,t){if(console.log(e,a.props.auth),e===a.props.auth)return console.log("yoo"),r.a.createElement("div",{className:"fr"},r.a.createElement("div",null,r.a.createElement("button",{onClick:function(){return a.props.deletePost(t)}},"Delete Post")))},a.onClick=function(e,t){a.props.firebase.functions().httpsCallable("onUpvotePost")(e,t).then(function(e){}).catch(function(e){e.code,e.message,e.details})},a.showComments=function(e){a.props.firestore.get({collection:"/posts/",doc:e,subcollections:[{collection:"comments"}],storeAs:"comments"})},a.renderCommentNumbersandUpvotes=function(e){return e.commentCount?r.a.createElement("div",{className:"f5 black-50 ttu"},"comments: ",e.commentCount):r.a.createElement("div",{className:"f5 black-50 ttu"},"no comments")},a}return Object(p.a)(t,e),Object(l.a)(t,[{key:"renderPages",value:function(e){this.setState(function(t){return{currentPage:t+e}})}},{key:"renderPosts",value:function(){var e=this;return this.props.posts?this.props.posts.map(function(t){return r.a.createElement("div",{class:"mw100 center bg-light-gray pa1 ph3-ns br0 ba b--light-silver"},r.a.createElement("div",{className:"fl w2 pa2"},r.a.createElement("i",{class:"angle up icon",onClick:function(){return e.onClick([t.id,1])}})),r.a.createElement("div",null,r.a.createElement(y.a,{to:"/info/view/".concat(t.id)},r.a.createElement("h2",{className:"f3-ns f5 black-70 ttu tracked-tight mt0 lol"},t.title)),e.showEditandDelete(t.userid,t.id),r.a.createElement("div",{className:"f5 black-50 ttu mt0"},t.subtitle),r.a.createElement("div",{className:"f5 black-50 ttu pl2 mt0 mb0 w2 pa0 dib pb2 pr3"},t.upvotes),r.a.createElement("span",{class:"dib"},r.a.createElement(y.a,{to:"/info/profile/".concat(t.userid)},t.username))),r.a.createElement("div",{className:"fl w2 pa2"},r.a.createElement("i",{class:"angle down icon",onClick:function(){return e.onClick([t.id,-1])}})),r.a.createElement("div",null,r.a.createElement("div",null,r.a.createElement("div",null,r.a.createElement("h4",{className:"f6 link blue dib h2 pt2"},e.renderCommentNumbersandUpvotes(t))))),r.a.createElement("div",null))}):r.a.createElement("div",{class:"sixteen wide column"},r.a.createElement("div",{class:"ui segment"},r.a.createElement("div",{class:"ui active centered inline loader"})))}},{key:"render",value:function(){return r.a.createElement("div",{class:"mt6"},this.renderPosts())}}]),t}(r.a.Component),S=[{child:"username",root:"username"}],A=Object(I.d)(Object(k.firestoreConnect)(function(e){return[{collection:"posts",orderBy:["upvotes","desc"],storeAs:"posts"}]}),Object(b.b)(function(e,t){return{posts:e.firestore.ordered.posts,auth:e.firebase.auth.uid,profile:e.firebase.profile,populate:Object(k.populate)(e.firestore,"posts",S),pagination:e.pagination,postsWhole:e.firestore.ordered.posts,size:e.size}},function(e,t){return console.log(t),{deletePost:function(e){t.firestore.delete({collection:"posts",doc:e})}}}))(R),P=a(150),x=(a(561),function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(u.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={title:"",subtitle:"",content:""},a.onChange=function(e){console.log(a.props.profile);var t=e.target.name,n=e.target.value;console.log(a.state.title,a.state.subtitle,a.state.content),a.setState(Object(P.a)({},t,n))},a.handleSubmit=function(e,t,n){e.preventDefault(),a.props.addPost(e.target,a.props.profile.username,a.props.userid)},a}return Object(p.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:""},r.a.createElement("div",{class:"pa7 black-80 bg-light-gray vh-100"},r.a.createElement("form",{onSubmit:this.handleSubmit,className:"measure center"},r.a.createElement("h2",{className:"f2 black-50 ttu center"},"ADD POST"),"Title:",r.a.createElement("input",{type:"text",name:"title",value:this.state.title,onChange:this.onChange,className:"pa2 input-reset ba bg-white hover-bg-white w-100"}),"Subtitle:",r.a.createElement("input",{type:"text",name:"subtitle",value:this.state.subtitle,onChange:this.onChange,className:"pa2 input-reset ba bg-white hover-bg-white w-100"}),"Content:",r.a.createElement("textarea",{type:"text",name:"content",value:this.state.content,onChange:this.onChange,className:"db border-box hover-black w-100 h-100 measure ba b--black-20 pa2 br2 mb2"}),r.a.createElement("input",{type:"submit",value:"Submit"}))))}}]),t}(r.a.Component)),U=[{child:"createdBy",root:"users"}],_=Object(I.d)(Object(k.firestoreConnect)(function(e){return[{collection:"posts",populates:U}]}),Object(b.b)(function(e,t){return{posts:e.firestore.ordered.posts,auth:e.auth,profile:e.firebase.profile,populate:Object(k.populate)(e.firestore,"posts",U),userid:e.firebase.auth.uid}},function(e,t){return{addPost:function(a,n,r){t.firestore.add({collection:"posts"},{title:a[0].value,subtitle:a[1].value,content:a[2].value,createdAt:t.firestore.Timestamp.now(),username:n,userid:r,commentCount:0,upvotes:0}).then(function(){e({type:"CREATE_POST_SUCESS"},a),w.push("/info/dashboard")}).catch(function(t){e({type:"CREATE_POST_ERROR"})})}}}))(x),L=function(){return r.a.createElement("div",null,"Edit Post")},T=a(319),D=a.n(T),F=a(209),G=a.n(F),B=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,s=new Array(n),o=0;o<n;o++)s[o]=arguments[o];return(a=Object(u.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(s)))).state={commentResponse:"",reply:!1},a.renderCommentResponses=function(){if(a.props.test[a.props.commentId])return a.props.test[a.props.commentId].map(function(e){return r.a.createElement("div",{className:"bt w-75 w-75-ns center"},r.a.createElement("div",{class:"mw9 center ph0-ns"},r.a.createElement("div",{class:"cf ph2-ns"},r.a.createElement("div",{class:"fl w-25 w-third-ns pa2"},r.a.createElement("p",{class:"f6 black-50 ttu lol"},e.username),r.a.createElement("img",{src:e.profilepic?e.profilepic:"https://cdn.pixabay.com/photo/2016/08/08/09/17/avatar-1577909_960_720.png",class:"br-100 h3-ns w3-ns dib tc",alt:"avatar"}),r.a.createElement("p",{class:"f6 black-50 ttu db"},a.props.dateConverter(e.createdAt.seconds))),r.a.createElement("div",{class:"fl w-75 w-two-thirds-ns pa2 ws-normal"},r.a.createElement("div",{class:"w25 ws-normal lol"},r.a.createElement("p",{classname:"pre"}),e.comment)))))})},a.handleComment=function(e,t){return function(n){n.preventDefault(),a.props.addCommentResponse(e,t,n.target[0].value,a.props.profile.username,a.props.profile.profilepicURL)}},a.onChange=function(e){console.log(e.target),a.setState({commentResponse:e.target.value})},a.renderActions=function(e){return r.a.createElement("div",null,r.a.createElement("div",{class:"actions"},r.a.createElement("h4",null,r.a.createElement("a",{class:"reply",onClick:function(){return a.setState(function(e){return{reply:!e.reply}})}},"Reply"))))},a.renderInput=function(){return r.a.createElement("form",{onSubmit:a.handleComment(a.props.commentId,a.props.postId)},r.a.createElement("input",{type:"text",name:"commentResponse",value:a.state.commentResponse,onChange:a.onChange,class:"input-reset ba b--black-20 pa2 mb2 db w-75 center"}),r.a.createElement("input",{type:"submit",value:"Submit",class:"input-reset ba b--black-20 pa2 mb2 db w-75 center"}))},a}return Object(p.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return console.log("wwww",this.props.test[this.props.commentId]),r.a.createElement("div",null,this.renderCommentResponses(),this.renderActions(),this.renderInput(this.state.reply))}}]),t}(r.a.Component),M=Object(I.d)(Object(k.firestoreConnect)(function(e){return[{collection:"posts",doc:e.postId,subcollections:[{collection:"responses",doc:e.commentId},{collection:"commentResponse",orderBy:["createdAt"]}],storeAs:e.commentId}]}),Object(b.b)(function(e,t){return console.log("we",t),{commentResponses:e.firestore.ordered.id,profile:e.firebase.profile,test:e.firestore.ordered}},function(e,t){return{addCommentResponse:function(e,a,n,r,s){console.log("ww",s,r),t.firestore.add({collection:"posts",doc:a,subcollections:[{collection:"responses",doc:e},{collection:"commentResponse"}]},{comment:n,username:r,profilepic:s||"https://cdn.pixabay.com/photo/2016/08/08/09/17/avatar-1577909_960_720.png",createdAt:t.firestore.Timestamp.now(),commentid:e})}}}))(B),Z=(a(1630),function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,s=new Array(n),o=0;o<n;o++)s[o]=arguments[o];return(a=Object(u.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(s)))).state={comment:"",commentResponse:"",reply:!1},a.toggleVisibility=function(){},a.onClick=function(e,t){a.props.firebase.functions().httpsCallable("onUpvote")(e,t).then(function(e){}).catch(function(e){e.code,e.message,e.details})},a.onChangeComment=function(e){a.setState({commentResponse:e.target.value})},a.dateConverter=function(e){var t=e,a=new D.a(1e3*t);return r.a.createElement("h1",{className:"f6 black-50 ttu db"},a.toString("yy/M/d - HH:mm"))},a.renderComments=function(e){return console.log(a.state),e.length>0?e.map(function(e){return console.log("kek",e.id),console.log("test",e.comment),r.a.createElement("div",{className:"ba b--light-silver ma2 w-100 bg-light-gray"},r.a.createElement("div",{class:"mw9 center ph0-ns"},r.a.createElement("div",{class:"cf ph2-ns"},r.a.createElement("div",{class:"fl w-25 w-25-ns pa2"},r.a.createElement("p",{class:"f6 black-50 ttu db lol"},e.username),r.a.createElement("img",{src:e.profilepic?e.profilepic:"https://cdn.pixabay.com/photo/2016/08/08/09/17/avatar-1577909_960_720.png",class:"br-100 h3 w3 dib",alt:"avatar"}),r.a.createElement("p",{class:"f6 black-50 ttu db"},a.dateConverter(e.createdAt.seconds))),r.a.createElement("div",{class:"fl w-100 w-75-ns pa1 ws-normal"},r.a.createElement("div",{class:"w25 ws-normal pt2 lol fl"},r.a.createElement("p",{classname:"mt5-ns mt5"},e.comment))))),r.a.createElement(M,{postId:a.props.match.params.id,commentId:e.id,dateConverter:a.dateConverter}))}):r.a.createElement("div",null,"be the first one to comment!")},a.handleComment=function(e,t){return function(n){n.preventDefault(),a.props.addCommentResponse(e,t,n.target[0].value,a.props.profile.username)}},a.onChange=function(e){console.log(e.target),a.setState({comment:e.target.value})},a.handleSubmit=function(e,t,n){console.log("kek",e.target[0].value),e.preventDefault(),a.props.addComment(a.props.match.params.id,e.target[0].value,a.props.profile.username,a.props.profile.profilepicURL)},a}return Object(p.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this;return console.log(this.props.firestore),console.log(this.state.comment),this.props.post&&this.props.comments?this.props.post.map(function(t){return r.a.createElement("div",{class:"pt7 black-80 bg-light-gray vh-100 w-75 w-25-ns center ba-black vh-100 dt w-100"},r.a.createElement("p",{class:"f2 lh-copy measure tc"},"asdasdasd"),r.a.createElement("p",{class:"f5 lh-copy measure tc"},t.title),r.a.createElement("div",{className:"f5 lh-copy measure tc"},t.username,e.dateConverter(t.createdAt.seconds)),r.a.createElement("div",{class:"pa3 bt b--black-10 f5 lh-copy measure tc"},r.a.createElement("div",null,t.subtitle),r.a.createElement("p",{class:"f5 lh-copy"},t.content),r.a.createElement("form",{onSubmit:e.handleSubmit},r.a.createElement("div",{className:"center db tc"},"comment:"),r.a.createElement("input",{type:"text",name:"comment",value:e.state.comment,onChange:e.onChange,className:"input-reset ba b--black-20 pa2 mb2 db w-75 center"}),r.a.createElement("div",{className:""},r.a.createElement("input",{type:"submit",value:"Submit",className:"input-reset ba b--black-20 pa2 mb2 db w-75 center"}))),e.renderComments(e.props.comments),r.a.createElement("div",null)))}):r.a.createElement("div",null,"Loading")}}]),t}(r.a.Component)),z=Object(I.d)(Object(k.firestoreConnect)(function(e){return[{collection:"/posts/",doc:e.match.params.id,storeAs:"post"},{collection:"/posts/".concat(e.match.params.id,"/responses"),orderBy:["upvotes","desc"],storeAs:"comments"}]}),Object(b.b)(function(e,t){return{post:e.firestore.ordered.post,comments:e.firestore.ordered.comments,profile:e.firebase.profile,commentResponses:e.firestore.ordered}},function(e,t){return{addComment:function(e,a,n,r){console.log(e,a,n,r),t.firestore.add({collection:"posts",doc:e,subcollections:[{collection:"responses"}]},{comment:a,username:n,profilepic:r||G.a.image.avatar(),createdAt:t.firestore.Timestamp.now(),upvotes:0}).then(function(e){console.log(e)})}}}))(Z),q=a(320),K=Object(b.b)(function(e){return{auth:e.firebase.auth}})(function(e){var t=e.auth,a=e.component,n=(e.dispatch,Object(q.a)(e,["auth","component","dispatch"]));return r.a.createElement(c.b,Object.assign({},n,{render:function(e){return delete e.dispatch,Object(k.isLoaded)(t)?Object(k.isEmpty)(t)?r.a.createElement(c.a,{to:"/"}):r.a.createElement(a,Object.assign({},e,n)):r.a.createElement("div",null," is Loading..")}}))}),X=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,s=new Array(n),o=0;o<n;o++)s[o]=arguments[o];return(a=Object(u.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(s)))).renderSignOut=function(){return a.props.auth.uid?r.a.createElement("p",{className:"link dim white dib mr3 f7 f5-ns",onClick:a.props.signOut},"SIGN OUT"):r.a.createElement("p",{className:"link dim dib white mr3 f7 f5-ns",onClick:a.props.signOut},"LOGIN")},a}return Object(p.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"bg-black-90 w-100 ph2 pv2 pv2-ns ph4-m ph5-l fixed top-0 cf h4"},r.a.createElement("div",{className:"fr mr3 mr0-ns"},r.a.createElement(y.a,{to:"/info/profile/".concat(this.props.auth.uid)},r.a.createElement("img",{src:this.props.auth.uid?this.props.profile.profilepicURL||"https://cdn.pixabay.com/photo/2016/08/08/09/17/avatar-1577909_960_720.png":null,style:this.props.auth.uid?{width:"80px",height:"80px"}:null,className:"measure center ba b--black-40 br-100 ma0"}),r.a.createElement("p",{className:"ma0 tc v-top"},this.props.profile.username))),r.a.createElement("h4",{class:"f1-ns ttu tracked-tight mt0 white f2"},"POSTTOWN"),r.a.createElement("nav",{className:"f10 fw6 ttu tracked"},this.renderSignOut(),r.a.createElement(y.a,{to:"/info/dashboard",className:"link dim white dib mr3 f7 f5-ns"},"Dashboard"),r.a.createElement(y.a,{className:"link dim white dib mr3 f7 f5-ns",to:"/info/add"},"Add Post")))}}]),t}(r.a.Component),W=Object(b.b)(function(e,t){return{auth:e.firebase.auth,profile:e.firebase.profile}},{signOut:function(){O.auth().signOut().then(function(){w.push("/")}).catch(function(e){})}})(X),H=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,s=new Array(n),o=0;o<n;o++)s[o]=arguments[o];return(a=Object(u.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(s)))).renderInput=function(e){var t=e.input,a=(e.label,e.meta),n=e.type;return console.log(a.error),r.a.createElement("div",{className:"field"},r.a.createElement("input",Object.assign({},t,{autoComplete:"off",className:"pa2 input-reset ba bg-white hover-bg-white w-100",type:n})),a.touched&&a.error&&r.a.createElement("span",null,a.error))},a.onSubmit=function(e){a.props.registerUser(e)},a.renderTaken=function(e){if(e&&e.length>0)return r.a.createElement("div",null,"Username Exists")},a}return Object(p.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{class:"pa7 black-80 bg-light-gray vh-100"},r.a.createElement("form",{onSubmit:this.props.handleSubmit(this.onSubmit),className:"measure center"},r.a.createElement("h2",{className:"f2 black-50 ttu center"},"REGISTER"),this.renderTaken(this.props.userExists),"Username:",r.a.createElement(d.a,{name:"username",component:this.renderInput}),"Email:",r.a.createElement(d.a,{name:"email",component:this.renderInput}),"Password:",r.a.createElement(d.a,{name:"password",component:this.renderInput,label:"password",type:"password"}),"First Name:",r.a.createElement(d.a,{name:"firstName",component:this.renderInput,label:"firstname"}),"Last Name:",r.a.createElement(d.a,{name:"lastName",component:this.renderInput,label:"lastname"}),r.a.createElement("input",{type:"submit",className:"b ph3 pv2 input-reset ba b--black bg-transparent grow pointer f6 dib mt2",value:"Submit"})))}}]),t}(r.a.Component),V=[{child:"createdBy",root:"users"}],J=Object(I.d)(Object(f.a)({form:"form"}),Object(k.firestoreConnect)(function(e){return[{collection:"users",populates:V}]}),Object(f.a)({form:"sampleForm",validate:function(e){var t={};return console.log("eee",e),e.username?e.username.length>15?t.username="Must be 15 characters or less":e.username.length<6&&(t.username="Must be 6 characters or more"):t.username="Required",e.email?/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,4}$/i.test(e.email)||(t.email="Invalid email address"):t.email="Required",e.firstName||(t.firstName="Required"),e.lastName||(t.lastName="Required"),e.password?e.password.length<6&&(t.password="Must be longer than 6"):t.password="Required",t},asyncBlurFields:[]}),Object(b.b)(function(e,t){return{users:e.firestore.ordered.users,auth:e.auth,profile:e.firebase.profile,populate:Object(k.populate)(e.firestore,"users",V),userid:e.firebase.auth.uid,userExists:e.firestore.ordered.userExists}},function(e,t){return{registerUser:function(e){console.log(e);var a=e.username,n=e.email,r=e.password,s=e.firstName,o=e.lastName;t.firestore.get({collection:"username",doc:e.username.toLowerCase()}).then(function(e){e.exists?console.log("hej"):t.firebase.createUser({email:n,password:r},{username:a,email:n,firstName:s,lastName:o,profilepicURL:null}).then(function(e){t.firestore.set({collection:"username",doc:a.toLowerCase()},{uid:t.firebase.auth().currentUser.uid})}).then(function(e){w.push("/info/dashboard")}).catch(function(e){})})}}}))(H),Q=a(2),Y=a.n(Q),$=a(152),ee=a(324),te=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,s=new Array(n),o=0;o<n;o++)s[o]=arguments[o];return(a=Object(u.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(s)))).renderDropZone=function(){if(a.props.match.params.id===a.props.firebase.auth().currentUser.uid)return r.a.createElement(ee.a,{onDrop:a.props.onFilesDrop},function(e){var t=e.getRootProps,a=e.getInputProps;return r.a.createElement("div",Object.assign({},t({refKey:"innerRef"}),{className:"f2 black-50 ttu tc db ma4"}),"CLICK HERE TO UPLOAD A PROFILE PIC",r.a.createElement("input",a({onClick:function(e){return console.log(e)}})))})},a}return Object(p.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return this.props.user&&this.props.onFilesDrop?r.a.createElement("div",{className:"pa7 black-80 bg-light-gray vh-100"},r.a.createElement("div",{className:"center w-75 v-mid"},r.a.createElement("img",{src:this.props.user.profilepicURL?this.props.profilepicURL:"https://cdn.pixabay.com/photo/2016/08/08/09/17/avatar-1577909_960_720.png",class:"br-100 h5 w5 db v-mid db center",alt:"avatar"}),this.renderDropZone(),r.a.createElement("div",{className:"f2 black-50 ttu tc db ma4 pt4"},"Username: ",this.props.user.username),r.a.createElement("div",{className:"f2 black-50 ttu tc db ma4"},"First Name: ",this.props.user.firstName),r.a.createElement("div",{className:"f2 black-50 ttu tc db ma4"},"Last Name: ",this.props.user.lastName),r.a.createElement("div",{className:"f2 black-50 ttu tc db ma4"},"Email: ",this.props.user.email))):r.a.createElement("div",null,"Marcus")}}]),t}(r.a.Component),ae={cacheControl:"public,max-age=36000",contentType:"image/jpeg"},ne={onFilesDrop:function(e){return function(t,a){e.firebase.storage().ref().child("".concat(e.match.params.id,"/profilepic.jpg")).put(t[0],ae).then(function(t){t.ref.getDownloadURL().then(function(t){e.firestore.update({collection:"users",doc:e.firebase.auth().currentUser.uid},{profilepicURL:t})})})}},onFileDelete:function(e){return function(e,t){}}},re={firebase:Y.a.object.isRequired},se=Object($.a)(Object(k.firebaseConnect)(function(e){return[{path:"".concat(e.match.params.id,"/profilepic"),storeAs:"lols"}]}),Object(b.b)(function(e,t){return{user:e.firestore.data.user,path:e.firebase.ordered.lols}}),Object(k.firestoreConnect)(function(e){return[{collection:"/users/",doc:e.match.params.id,storeAs:"user"}]}),Object($.b)(re),Object($.c)(ne))(te),oe=function(){return r.a.createElement("div",{className:"bg-light-gray vh-100 dt w-100"},r.a.createElement(c.c,{history:w},r.a.createElement(W,null),r.a.createElement(c.b,{path:"/",exact:!0,component:C}),r.a.createElement(K,{path:"/info/dashboard",component:A}),r.a.createElement(K,{path:"/info/edit/:id",exact:!0,component:L}),r.a.createElement(K,{path:"/info/view/:id",exact:!0,component:z}),r.a.createElement(K,{path:"/info/add",exact:!0,component:_}),r.a.createElement(c.b,{path:"/info/register",exact:!0,component:J}),r.a.createElement(K,{path:"/info/profile/:id",exact:!0,component:se})))},ce=a(1665),ie=a(79),le=a(153),ue={isSignedIn:null,message:null},me=Object(I.c)({form:ce.a,firestore:ie.firestoreReducer,auth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ue,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SIGN_IN":return Object(le.a)({},e,{isSignedIn:!0},t.payload);case"SIGN_OUT":return Object(le.a)({},e,{isSignedIn:!1,userId:null});case"SIGN_ERROR":return Object(le.a)({},e,{isSignedIn:!1,message:t.payload});default:return e}},firebase:k.firebaseReducer,pagination:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"PAGINATION_NEXTee":return e+t.payload;case"PAGINATION_BACKee":return e-t.payload;default:return e}},size:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:10,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"QUERY_SIZE":return t.payload;case"PAGINATION_NEXT":return e-t.payload;case"PAGINATION_BACK":return e+t.payload;default:return e}}}),pe=a(323),de=a(80),fe=a.n(de);a(1661);fe.a.initializeApp({apiKey:"AIzaSyDXRx3dMwRgEVZDBaOA2Uecz2MAfPkDZwo",authDomain:"jeeves-5d976.firebaseapp.com",databaseURL:"https://jeeves-5d976.firebaseio.com",projectId:"jeeves-5d976",storageBucket:"jeeves-5d976.appspot.com",messagingSenderId:"332828688336"}),fe.a.firestore(),fe.a.firestore().enablePersistence().catch(function(e){"failed-precondition"==e.code||e.code});fe.a.functions();var be=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||I.d,he=Object(I.e)(me,be(Object(I.d)(Object(I.a)(pe.a.withExtraArgument({getFirebase:k.getFirebase,getFirestore:ie.getFirestore}))))),ve={userProfile:"users",useFirestoreForProfile:!0,AttachAuthIsReady:!0,profileParamsToPopulate:ie.profilePopulates},ge={firebase:fe.a,config:ve,dispatch:he.dispatch,createFirestoreInstance:ie.createFirestoreInstance};o.a.render(r.a.createElement(b.a,{store:he},r.a.createElement(k.ReactReduxFirebaseProvider,ge,r.a.createElement(oe,null))),document.getElementById("root"))},325:function(e,t,a){e.exports=a(1662)},565:function(e,t){},567:function(e,t){}},[[325,1,2]]]);
//# sourceMappingURL=main.03e053b6.chunk.js.map